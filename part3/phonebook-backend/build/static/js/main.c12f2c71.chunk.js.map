{"version":3,"sources":["components/Person.js","components/PersonList.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","name","number","id","handleRemoveClick","onClick","PersonList","filter","persons","person","toLowerCase","includes","map","key","PersonForm","onSubmit","valueName","handleNameChange","valueNumber","handleNumberChange","onChange","value","type","Filter","valueFilter","handleFilterChange","Notification","message","messageType","className","baseUrl","process","axios","get","personObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setMessageType","useEffect","personService","then","response","data","event","target","preventDefault","duplicateNameCheck","find","duplicateNumberCheck","window","confirm","targetPerson","changedNumber","setTimeout","concat","catch","error","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c12f2c71.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ name, number, id, handleRemoveClick }) => {\r\n  return (\r\n    <p>\r\n      {name} {number}{\" \"}\r\n      <button onClick={() => handleRemoveClick(id)}>delete</button>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst PersonList = ({ filter, persons, handleRemoveClick }) => {\r\n  return (\r\n    <div>\r\n      {persons\r\n        .filter((person) => person.name.toLowerCase().includes(filter))\r\n        .map((person) => (\r\n          <Person\r\n            name={person.name}\r\n            number={person.number}\r\n            id={person.id}\r\n            handleRemoveClick={handleRemoveClick}\r\n            key={person.id}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  onSubmit,\r\n  valueName,\r\n  handleNameChange,\r\n  valueNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        <p>\r\n          name: <input onChange={handleNameChange} value={valueName} />\r\n        </p>\r\n        <p>\r\n          number: <input onChange={handleNumberChange} value={valueNumber} />\r\n        </p>\r\n      </div>\r\n\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ valueFilter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input onChange={handleFilterChange} value={valueFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={messageType}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl =\r\n  process.env.REACT_APP_BASE_URL || \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = (personObject) => {\r\n  return axios.post(baseUrl, personObject);\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, personObject);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PersonList from \"./components/PersonList\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Filter from \"./components/Filter\";\r\nimport Notification from \"./components/Notification\";\r\nimport personService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [newFilter, setNewFilter] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((response) => {\r\n      setPersons(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const handleAddClick = (event) => {\r\n    event.preventDefault();\r\n\r\n    const duplicateNameCheck = persons.find(\r\n      (person) => person.name === newName\r\n    );\r\n    const duplicateNumberCheck = persons.find(\r\n      (person) => person.number === newNumber\r\n    );\r\n\r\n    if (duplicateNameCheck) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        const targetPerson = persons.find((person) => person.name === newName);\r\n        const changedNumber = { ...targetPerson, number: newNumber };\r\n        personService\r\n          .update(targetPerson.id, changedNumber)\r\n          .then((response) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== targetPerson.id ? person : response.data\r\n              )\r\n            );\r\n            setMessageType(\"confirmation\");\r\n            setMessage(`Changed ${newName} number`);\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n              setMessageType(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    } else if (duplicateNumberCheck) {\r\n      setMessageType(\"error\");\r\n      setMessage(`${newNumber} is already added to phonebook`);\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n        setMessageType(null);\r\n      }, 5000);\r\n    } else if (newName === \"\" || newNumber === \"\") {\r\n      setMessageType(\"error\");\r\n      setMessage(`Field can't be empty`);\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n        setMessageType(null);\r\n      }, 5000);\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n      personService\r\n        .create(personObject)\r\n        .then((response) => {\r\n          setPersons(persons.concat(response));\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n          setMessageType(\"confirmation\");\r\n          setMessage(`Added ${personObject.name}`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType(null);\r\n          }, 5000);\r\n        })\r\n        .catch((error) => {\r\n          setMessageType(\"error\");\r\n          setMessage(`${JSON.stringify(error.response.data.error)}`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType(\"error\");\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (id) => {\r\n    const targetPerson = persons.find((person) => person.id === id);\r\n    if (window.confirm(`Delete ${targetPerson.name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n          setMessageType(\"error\");\r\n          setMessage(`Deleted ${targetPerson.name}`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType(null);\r\n          }, 5000);\r\n        })\r\n        .catch((error) => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n          setMessageType(\"error\");\r\n          setMessage(\r\n            `'Information of ${targetPerson.name} has already been removed from server`\r\n          );\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType(null);\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} messageType={messageType} />\r\n      <Filter valueFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h3>add a new</h3>\r\n      <PersonForm\r\n        onSubmit={handleAddClick}\r\n        valueName={newName}\r\n        handleNameChange={handleNameChange}\r\n        valueNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <PersonList\r\n        filter={newFilter}\r\n        persons={persons}\r\n        handleRemoveClick={handleRemoveClick}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}